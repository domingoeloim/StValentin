<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8, maximum-scale=1.0">
    <title>üíñ Saint-Valentin 2026 üíñ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
            background: linear-gradient(135deg, #ff6b9d 0%, #c06c84 50%, #f67280 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            cursor: default;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Animation de battement de c≈ìur en arri√®re-plan */
        .heart-bg {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 300px;
            opacity: 0.03;
            animation: heartbeat 1.5s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes heartbeat {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            25% { transform: translate(-50%, -50%) scale(1.1); }
            50% { transform: translate(-50%, -50%) scale(1); }
        }

        /* P√©tales flottants */
        .petal {
            position: fixed;
            width: 15px;
            height: 15px;
            background: rgba(255, 182, 193, 0.7);
            border-radius: 50% 0 50% 0;
            animation: fall linear infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes fall {
            0% {
                transform: translateY(-10vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0.3;
            }
        }

        /* Container principal */
        .container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2;
        }

        /* Titre */
        .title {
            font-size: 3.5em;
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            margin-bottom: 30px;
            animation: fadeInDown 1s ease-out;
            text-align: center;
            padding: 0 20px;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Compte √† rebours */
        .timer {
            font-size: 2em;
            color: white;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
            margin-bottom: 40px;
            font-weight: bold;
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Messages fun */
        .fun-message {
            position: fixed;
            font-size: 1.5em;
            color: white;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            font-weight: bold;
            pointer-events: none;
            animation: fadeOut 2s ease-out forwards;
            z-index: 10;
        }

        @keyframes fadeOut {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
        }

        /* Bouton principal */
        .chase-button {
            position: fixed;
            padding: 25px 50px;
            font-size: 1.8em;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #ff6b9d, #c06c84);
            border: 3px solid white;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 5;
            animation: buttonGlow 2s ease-in-out infinite;
            white-space: nowrap;
        }

        @keyframes buttonGlow {
            0%, 100% {
                box-shadow: 0 10px 30px rgba(255, 107, 157, 0.5);
            }
            50% {
                box-shadow: 0 10px 40px rgba(255, 107, 157, 0.8), 0 0 30px rgba(255, 255, 255, 0.5);
            }
        }

        .chase-button:hover {
            transform: scale(1.05);
        }

        .chase-button.catchable {
            animation: buttonPulse 0.5s ease-in-out infinite;
            background: linear-gradient(135deg, #ff1493, #ff69b4);
        }

        @keyframes buttonPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* √âcran de c√©l√©bration */
        .celebration {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 100;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow-y: auto;
            padding: 20px;
        }

        .celebration.active {
            display: flex;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .big-message {
            font-size: 6em;
            color: #ff1493;
            text-shadow: 0 0 30px rgba(255, 20, 147, 0.8);
            animation: zoomInBeat 1s ease-out;
            margin-bottom: 30px;
            text-align: center;
            z-index: 101;
            position: relative;
        }

        @keyframes zoomInBeat {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .love-message {
            font-size: 2em;
            color: white;
            text-align: center;
            padding: 0 40px;
            line-height: 1.6;
            animation: fadeInUp 1.5s ease-out 0.5s both;
            max-width: 800px;
            z-index: 101;
            position: relative;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Canvas pour feux d'artifice */
        #fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.8;
        }

        /* Confettis */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 99;
            animation: confettiFall 3s linear forwards;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(0) rotateZ(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotateZ(720deg);
                opacity: 0;
            }
        }

        /* C≈ìurs qui suivent la souris */
        .heart-cursor {
            position: fixed;
            pointer-events: none;
            animation: heartFloat 1s ease-out forwards;
            z-index: 20;
            font-size: 20px;
        }

        @keyframes heartFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0);
            }
        }

        /* Responsive mobile */
        @media (max-width: 768px) {
            .title {
                font-size: 2em;
            }
            .timer {
                font-size: 1.3em;
            }
            .chase-button {
                padding: 20px 40px;
                font-size: 1.3em;
            }
            .big-message {
                font-size: 4em;
                padding: 0 20px;
                word-wrap: break-word;
            }
            .love-message {
                font-size: 1.4em;
                padding: 0 30px;
                line-height: 1.5;
                color: aliceblue;
            }
        }

        @media (max-width: 480px) {
            .big-message {
                font-size: 3em;
            }
            .love-message {
                font-size: 1.1em;
                padding: 0 20px;
                color: antiquewhite;
            }
        }
    </style>
</head>
<body>
    <!-- C≈ìur battant en arri√®re-plan -->
    <div class="heart-bg">‚ù§Ô∏è</div>

    <!-- Container principal -->
    <div class="container">
        <h1 class="title">üíñ Joyeuse Saint-Valentin ! üíñ Mlle Shalom</h1>
        <div class="timer" id="timer">Attrape-moi dans <span id="countdown">45</span> secondes üòò</div>
        <button class="chase-button" id="chaseButton">Clique ici üíñ</button>
    </div>

    <!-- √âcran de c√©l√©bration -->
    <div class="celebration" id="celebration">
        <canvas id="fireworks"></canvas>
        <div class="big-message">JE T'AIME ‚ù§Ô∏è - I GOT U</div>
        <br class="love-message">
            Ma Luciole,</br>

On a travers√© des temp√™tes et des silences‚Ä¶ .<br>
Je regarde le chemin parcouru et j‚Äôesp√®re continuer, main dans la main.<br>
Je veux que tu saches √† quel point j‚Äôadmire ton courage, m√™me face aux d√©fis.<br>
Ma Luciole, m√™me dans les nuits les plus sombres, tu brilles.<br>

¬´ L‚Äôamour est patient, il est plein de bont√©‚Ä¶ Il supporte tout, croit tout, esp√®re tout, endure tout. ¬ª ‚Äì 1 Corinthiens 13:4‚Äë7<br>
Je t‚Äôaime. üåü
        </div>
    </div>

    <!-- Audio -->
    <audio id="bgMusic" loop>
        <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
    </audio>

    <script>
        // Configuration
        const CHASE_DURATION = 45;
        const DETECTION_RADIUS = 150;
        const MOVE_SPEED = 0.15;
        
        let timeLeft = CHASE_DURATION;
        let isChasing = true;
        let buttonCaught = false;
        
        const button = document.getElementById('chaseButton');
        const timer = document.getElementById('timer');
        const countdown = document.getElementById('countdown');
        const celebration = document.getElementById('celebration');
        const canvas = document.getElementById('fireworks');
        const ctx = canvas.getContext('2d');
        
        // Messages fun
        const funMessages = [
            "Presque ! üòÜ",
            "Tu es s√ªre ? üòè",
            "Pas si vite ! üí®",
            "Encore rat√© ! ü§≠",
            "Tu chauffes ! üî•",
            "Essaie encore ! üí™",
            "Tu y es presque ! üòâ",
            "Courage ! üíï",
            "Ah non ! üòÇ",
            "Trop lente ! ‚ö°"
        ];
        
        let messageIndex = 0;
        
        // Positionner le bouton au centre au d√©part
        function centerButton() {
            const x = window.innerWidth / 2 - button.offsetWidth / 2;
            const y = window.innerHeight / 2 - button.offsetHeight / 2;
            button.style.left = x + 'px';
            button.style.top = y + 'px';
        }
        
        centerButton();
        
        // Cr√©er des p√©tales
        function createPetals() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const petal = document.createElement('div');
                    petal.className = 'petal';
                    petal.style.left = Math.random() * 100 + '%';
                    petal.style.animationDuration = (Math.random() * 5 + 5) + 's';
                    petal.style.animationDelay = Math.random() * 5 + 's';
                    document.body.appendChild(petal);
                }, i * 200);
            }
        }
        
        createPetals();
        
        // Compte √† rebours
        const countdownInterval = setInterval(() => {
            if (isChasing && timeLeft > 0) {
                timeLeft--;
                countdown.textContent = timeLeft;
                
                if (timeLeft === 0) {
                    isChasing = false;
                    button.textContent = 'Ok‚Ä¶ je me rends üíï';
                    button.classList.add('catchable');
                    timer.textContent = 'Tu peux enfin me cliquer ! üòä';
                    timer.style.color = '#90EE90';
                }
            }
        }, 1000);
        
        // D√©placer le bouton pour fuir la souris
        document.addEventListener('mousemove', (e) => {
            if (!isChasing || buttonCaught) return;
            
            const rect = button.getBoundingClientRect();
            const buttonX = rect.left + rect.width / 2;
            const buttonY = rect.top + rect.height / 2;
            
            const deltaX = buttonX - e.clientX;
            const deltaY = buttonY - e.clientY;
            const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
            
            if (distance < DETECTION_RADIUS) {
                // Afficher un message fun
                if (Math.random() < 0.3) {
                    showFunMessage(e.clientX, e.clientY);
                }
                
                // Calculer nouvelle position
                const angle = Math.random() * Math.PI * 2;
                const moveDistance = 150 + Math.random() * 100;
                
                let newX = buttonX + Math.cos(angle) * moveDistance;
                let newY = buttonY + Math.sin(angle) * moveDistance;
                
                // Garder dans l'√©cran avec marges
                const margin = 50;
                newX = Math.max(margin, Math.min(window.innerWidth - rect.width - margin, newX));
                newY = Math.max(margin, Math.min(window.innerHeight - rect.height - margin, newY));
                
                // Animation fluide
                button.style.transition = 'all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)';
                button.style.left = newX + 'px';
                button.style.top = newY + 'px';
            }
        });
        
        // Afficher message fun
        function showFunMessage(x, y) {
            const message = document.createElement('div');
            message.className = 'fun-message';
            message.textContent = funMessages[messageIndex % funMessages.length];
            message.style.left = x + 'px';
            message.style.top = y + 'px';
            document.body.appendChild(message);
            
            messageIndex++;
            
            setTimeout(() => message.remove(), 2000);
        }
        
        // C≈ìurs qui suivent la souris
        document.addEventListener('mousemove', (e) => {
            if (Math.random() < 0.1) {
                const heart = document.createElement('div');
                heart.className = 'heart-cursor';
                heart.textContent = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì'][Math.floor(Math.random() * 5)];
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 1000);
            }
        });
        
        // Clic sur le bouton
        button.addEventListener('click', (e) => {
            if (isChasing && timeLeft > 0) {
                // Pendant la phase de poursuite, le bouton continue de fuir
                e.preventDefault();
                return;
            }
            
            if (!buttonCaught) {
                buttonCaught = true;
                clearInterval(countdownInterval);
                
                // Masquer les √©l√©ments
                document.querySelector('.container').style.display = 'none';
                
                // Afficher la c√©l√©bration
                celebration.classList.add('active');
                
                // Lancer les feux d'artifice
                launchFireworks();
                
                // Lancer les confettis
                launchConfetti();
                
                // Musique (simul√©e - remplacer par une vraie source audio)
                // document.getElementById('bgMusic').play();
            }
        });
        
        // Feux d'artifice
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.velocity = {
                    x: (Math.random() - 0.5) * 8,
                    y: (Math.random() - 0.5) * 8
                };
                this.alpha = 1;
                this.decay = Math.random() * 0.02 + 0.01;
                this.size = Math.random() * 3 + 2;
            }
            
            update() {
                this.velocity.y += 0.1;
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= this.decay;
            }
            
            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }
        
        let particles = [];
        
        function createFirework(x, y) {
            const colors = ['#ff1493', '#ff69b4', '#ffc0cb', '#ff6b9d', '#ffffff', '#ffd700'];
            const particleCount = 60;
            
            for (let i = 0; i < particleCount; i++) {
                const color = colors[Math.floor(Math.random() * colors.length)];
                particles.push(new Particle(x, y, color));
            }
        }
        
        function animateFireworks() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            particles = particles.filter(p => p.alpha > 0);
            
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            
            requestAnimationFrame(animateFireworks);
        }
        
        function launchFireworks() {
            animateFireworks();
            
            let count = 0;
            const fireworkInterval = setInterval(() => {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height * 0.5;
                createFirework(x, y);
                
                count++;
                if (count > 30) {
                    clearInterval(fireworkInterval);
                }
            }, 300);
        }
        
        // Confettis
        function launchConfetti() {
            const colors = ['#ff1493', '#ff69b4', '#ffc0cb', '#ffd700', '#87ceeb', '#90ee90'];
            
            for (let i = 0; i < 150; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 20);
            }
        }
        
        // Responsive
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            if (!buttonCaught && !isChasing) {
                centerButton();
            }
        });
    </script>
</body>
</html>